-- DDL CONSTRAINTS: PRIMARY KEY, FOREIGN KEY, UNIQUE, CHECK, DEFAULT

-- TASKS:
-- 1. CREATE A DATABASE
-- 2. CREATE A CUSTOMER TABLE USING VARIOUS DATATYPES WITH PRIMARY KEY, DEFAULT, CHECK
-- 3. INSERT VALUES IN THE CUSTOMER TABLE
-- 4. CREATE A CUSTOMER ORDER TABLE USING VARIOUS DATATYPES AND SET FOREIGN KEY
-- 5. INSERT VALUES IN THE CUSTOMER ORDER TABLE
-- 6. INSERT VALUE TO CHECK DEFAULT CASE


-- SOLUTIONS:

-- 1. CREATE A DATABASE
CREATE DATABASE DATABASE_5;

USE DATABASE_5;


-- 2. CREATE A TABLE USING VARIOUS DATATYPES
CREATE TABLE CUSTOMER
(
    CUSTOMER_ID INT NOT NULL UNIQUE PRIMARY KEY,
    FIRST_NAME VARCHAR(100),
    LAST_NAME VARCHAR(100),
    PHONE_NO INT NOT NULL DEFAULT 0,
    CITY VARCHAR(50),
    STATE VARCHAR(50),
    SALARY INT,
    JOINING_DATE DATETIME,
    PINCODE INT,
    DEPARTMENT VARCHAR (10),
    CONSTRAINT ACC_SALARY CHECK(SALARY > 5000)
);


-- 3. INSERT VALUES IN THE THE TABLE
INSERT INTO CUSTOMER
    (CUSTOMER_ID , FIRST_NAME , LAST_NAME , PHONE_NO , CITY , STATE , JOINING_DATE, SALARY , PINCODE, DEPARTMENT)
VALUES
    (001, 'SIDDHANT', 'KUMAR', 940012, 'JAMSHEDPUR', 'JHARKHAND', '2022-12-20 10:20:00', 49000, 210310 , 'ADMIN' ),
    (002, 'ADITYA', 'GAUR', 842232, 'DELHI', 'DELHI', '2021-10-25 10:25:00' , 45000 , 210310 , 'HR'),
    (003, 'SHYAM', 'SUNDER', 782528, 'MUZAFFARPUR', 'BIHAR', '2020-09-22 05:24:00' , 31000 , 210310 , 'ACCOUNTS'),
    (004, 'SAMARTH', 'VERMA', 672628, 'GREATER NOIDA', 'UTTAR PRADESH', '2020-12-22 06:20:00' , 36000 , NULL , 'ADMIN'),
    (005, 'VARUN', 'SINGH', 922345, 'FARIDABAD', 'HARYANA', '2019-07-05 09:34:00' , 56000 , 831001 , 'HR'),
    (006, 'YUVRAJ', 'HARSHVARDHAN', 647382, 'LUDHIANA', 'PUNJAB', '2012-07-05 09:38:00' , 17000 , 811011 , 'ADMIN');

SELECT *
FROM CUSTOMER;


-- 4. CREATE A CUSTOMER ORDER TABLE USING VARIOUS DATATYPES
CREATE TABLE CUST_ORDER
(
    ORDER_ID INT,
    ORDER_DETAILS VARCHAR(100),
    ORDER_TIME DATE,
    FOREIGN KEY (ORDER_ID)
REFERENCES CUSTOMER(CUSTOMER_ID)
ON DELETE CASCADE
);


-- 5. INSERT VALUES IN THE THE CUSTOMER ORDER TABLE
INSERT INTO CUST_ORDER
    (ORDER_ID , ORDER_DETAILS , ORDER_TIME)
VALUES
    (001, 'SHIRT' , '2024-01-24'),
    (004, 'PANT' , '2023-02-24'),
    (005, 'COAT' , '2022-04-24');

SELECT *
FROM CUST_ORDER;


-- 6. INSERT VALUE TO CHECK DEFAULT CASE
INSERT INTO CUSTOMER
    (CUSTOMER_ID, FIRST_NAME, LAST_NAME)
VALUES
    (007, 'SUMIT' , 'GHOSH');